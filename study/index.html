<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1">
    <!-- This job comes from a study project called Fijiv in Gittub as PengPeng's Learning Responsive Web Job -->
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">
    <title>3.26作业</title>
    <style>
        body,html,img{
            -webkit-touch-callout:none;
            -webkit-user-select:none;
            -khtml-user-select:none;
            -moz-user-select:none;
            -ms-user-select:none;
            /* pointer-events: none; */
            user-select:none;
            -o-user-select:none;
            margin: 0px;
            padding: 0px;
            height: 100vh;
        }
        body{
            background-color: #9d88d3f5;
        }
        p{
            margin: 0;
            position: relative;
            font-size: 2em;
            text-align: center;
            top: 10vh;
        }
        #onebox{
            position: relative;
            width: 100%;
            height: 100%;
            -webkit-transform:scale(1,1); 
            transform:scale(1,1); 
        }
        #onebox.move{
            -webkit-transform:scale(0,0);
            transform:scale(0,0);
        }
        #onebox-first,#twobox-big{
            margin: 0 auto;
            width: 80%;
            height: 50%;
            position: relative;
            top: 5vh;
        }
        #onebox-first-img{
            position: absolute;
            width: 100%;
            height: 100%;
        }
        #onebox-first-video{
            position: relative;
            width: 100%;
            height: 100%;
            background: url(video/hertaa.gif);
            background-size: cover;
            display: none;
        }
        #onebox-second{
            width: 40%;
            height: 30%;
            top: 17vh;
            left: 27vw;
            /* background-color: pink; */
            position: absolute;
            border-radius: 50%;
        }
        #onebox-third{
            width: 30%;
            height: 20%;
            left: 25vw;
            top: 30px;
            /* background-color: white; */
            position: absolute;
            border-radius: 50%;
        }
        #onebox-fourth,#twobox-first{
            width: 80px;
            height: 80px;
            right: 0vw;
            top: 0px;
            /* background-color: yellow; */
            background: url(video/hertaa2.gif);
            background-size: cover;
            position: absolute;
            border-radius: 50%;
        }
        #twobox{
            position: relative;
            width: 100%;
            height: 100%;
            top: -100vh;
            -webkit-transform:scale(0,0); 
            transform:scale(0,0);
        }
        #twobox.move{
            -webkit-transform:scale(1,1);
            transform:scale(1,1);
        }
        #onebox,#twobox{
            -webkit-transition: all 1s ease-in-out;
            transition: all 1s ease-in-out;
        }
        .wrap{
            width: 160px;
            height: 100px;
            top: 30vh;
            margin: 0 auto;
            position: relative;
            transform-style: preserve-3d;
            transform: rotateY(70deg);
            animation: roll 60s infinite linear;
        }
        .wrap>div{
            width: 160px;
            height: 80px;
            position: absolute;
            transition: all 1s;
            background-size:  100% 100%;
        }
        .one{
            transform: rotateY(0deg) translateZ(160px);
            background-image: url(img/card_cn.jpg);
        }
        .two{
            transform: rotateY(120deg) translateZ(160px);
            background-image: url(img/card_en.jpg);
        }
        .three{
            transform: rotateY(-120deg) translateZ(160px);
            background-image: url(img/card_id.jpg);
        }
        .four{
            transform: rotateY(120deg) translateZ(-160px);
            background-image: url(img/card_ja.jpg);
        }
        .five{
            transform: rotateY(-120deg) translateZ(-160px);
            background-image: url(img/card_kr.jpg);
        }
        .six{
            transform: translateZ(-160px);
            background-image: url(img/card_pt.jpg);
        }
        #lamp{
            pointer-events: auto;
        }
        #twobox-second{
            position: relative;
            top: 90px;
            width: 400px;
            height: 145px;
            margin: 0 auto;
        }
        @keyframes roll {
            0%{
                transform: rotateY(360deg);
            }
            25%{
                transform: rotateY(720deg);
            }
            50%{
                transform: rotateY(1080deg);
            }
            75%{
                transform: rotateY(1440deg);
            }
            100%{
                transform: rotateY(1800deg);
            }
        }
    </style>
</head>
<body>
    <div id="onebox">
        <div id="onebox-first">
            <img id="onebox-first-img" src="img/favicon.png" alt="">
            <div id="onebox-first-video"></div>
            <div id="onebox-second"></div>
            <div id="onebox-third"></div>
            <div id="onebox-fourth"></div>
        </div>
        <p id="tx"></p>
    </div>
    <div id="twobox">
        <div id="twobox-big">
            <div id="twobox-first"></div>
            <div class="wrap">
                <div id="lamp" class="one"></div>
                <div id="lamp" class="two"></div>
                <div id="lamp" class="three"></div>
                <div id="lamp" class="four"></div>
                <div id="lamp" class="five"></div>
                <div id="lamp" class="six"></div>
            </div>
        </div>
        <div id="twobox-second"></div>
    </div>
</body>
<script src="jquery-3.4.1.min.js"></script>
<script>
    var oneBoxImg = document.getElementById('onebox-first-img');
    var oneBoxFirst = document.getElementById('onebox-first');
    var oneBoxVideo = document.getElementById('onebox-first-video');
    var oneBoxSecond = document.getElementById('onebox-second');
    var oneBoxThird = document.getElementById('onebox-third');
    var oneBoxFour = document.getElementById('onebox-fourth');
    var twoBoxFirst = document.getElementById('twobox-first');
    var tx = document.getElementById('tx');
    var startX, startY, endX, endY;
    var LampOne = document.querySelector(".one");
    var LampTwo = document.querySelector(".two");
    var LampThree = document.querySelector(".three");
    var LampFour = document.querySelector(".four");
    var LampFive = document.querySelector(".five");
    var LampSix = document.querySelector(".six");
    var Lamp = document.querySelectorAll("#lamp");
    var twoboxSecond = document.getElementById('twobox-second');
    let isEnlarged = false;
    var timeoutId,audioplay;
    var audios =[
        {path:"audio/转圈圈.mp3"},
    ];
    var randomIndex = Math.floor(Math.random() * audios.length);
    var audioUrl = audios[randomIndex].path;
    var audio = new Audio(audioUrl);
    audio.loop = true;
    $(document).ready(function(){
        $('#onebox-fourth').click(function(e){
            e.preventDefault();
            oneBoxFour.style.display = 'none';
            twoBoxFirst.style.display = 'block';
            $('#onebox').toggleClass('move');
            $('#twobox').toggleClass('move');
        });
        $('#twobox-first').click(function(e){
            e.preventDefault();
            twoBoxFirst.style.display = 'none';
            oneBoxFour.style.display = 'block';
            $('#onebox').toggleClass('move');
            $('#twobox').toggleClass('move');
        });
    });
    oneBoxThird.addEventListener('touchstart',function(e){
        audio.currentTime = 0;
        oneBoxImg.style.display = 'none';
        audio.play();
        oneBoxVideo.style.display = 'block';
        oneBoxFour.style.display = 'none';
        startX = e.targetTouches[0].clientX;
        startY = e.targetTouches[0].clientY;
        e.preventDefault();
    })
    oneBoxThird.addEventListener('touchend',function(e){
        oneBoxImg.style.display = 'block';
        oneBoxVideo.style.display = 'none';
        oneBoxFour.style.display = 'block';
        audio.pause();
        var endX = e.changedTouches[0].clientX;
        var endY = e.changedTouches[0].clientY;
        if (Math.abs(endX - startX) > 15 || Math.abs(endY - startY) > 15) {
            alert("不要乱动呀！");
            return;
        }
    })
    oneBoxSecond.onclick = function(e){
        tx.innerHTML = '不要碰我！';
        setTimeout(() => {
            tx.innerHTML = '';
        }, 2000);
    }
    var fun = function(){
        LampOne.setAttribute("style", "transform:translateZ(160px); border-radius: 0; box-shadow: 0");
        LampTwo.setAttribute("style", "rotateY(120deg) translateZ(160px); border-radius: 0; box-shadow: 0");
        LampThree.setAttribute("style", "rotateY(-120deg) translateZ(160px); border-radius: 0; box-shadow: 0");
        LampFour.setAttribute("style", "rotateY(120deg) translateZ(-160px); border-radius: 0; box-shadow: 0");
        LampFive.setAttribute("style", "rotateY(-120deg) translateZ(-160px); border-radius: 0; box-shadow: 0");
        LampSix.setAttribute("style", "translateZ(-130px); border-radius: 0; box-shadow: 0");
    }
    LampOne.onclick = function(){
        if (!isEnlarged) {
            LampOne.setAttribute("style", "transform: translateZ(200px) scale(1.5); border-radius: 15%; box-shadow: 0 0 30px rgba(3, 197, 197, 0.7)");
            twoboxSecond.setAttribute("style", "background:url(img/card_cn.jpg); background-size: cover;");
            isEnlarged = true;
        } else {
            fun();
            twoboxSecond.setAttribute("style", "background:none;transform: initial;");
            isEnlarged = false;
        }
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }, 2000);
    }
    LampTwo.onclick = function(){
        if (!isEnlarged) {
            LampTwo.setAttribute("style", "transform: rotateY(120deg) translateZ(200px) scale(1.5); border-radius: 15%; box-shadow: 0 0 30px rgba(3, 197, 197, 0.7)");
            twoboxSecond.setAttribute("style", "background:url(img/card_en.jpg); background-size: cover;");
            isEnlarged = true;
        } else {
            fun();         
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }, 2000);
    }
    LampThree.onclick = function(){
        if (!isEnlarged) {
            LampThree.setAttribute("style", "transform: rotateY(-120deg) translateZ(200px) scale(1.5); border-radius: 15%; box-shadow: 0 0 30px rgba(3, 197, 197, 0.7)");
            twoboxSecond.setAttribute("style", "background:url(img/card_id.jpg); background-size: cover;");
            isEnlarged = true;
        } else {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }, 2000);
    }
    LampFour.onclick = function(){
        if (!isEnlarged) {
            LampFour.setAttribute("style", "transform: rotateY(120deg) translateZ(-200px) scale(1.5); border-radius: 15%; box-shadow: 0 0 30px rgba(3, 197, 197, 0.7)");
            twoboxSecond.setAttribute("style", "background:url(img/card_ja.jpg); background-size: cover;");
            isEnlarged = true;
        } else {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }, 2000);
    }
    LampFive.onclick = function(){
        if (!isEnlarged) {
            LampFive.setAttribute("style", "transform: rotateY(-120deg) translateZ(-200px) scale(1.5); border-radius: 15%; box-shadow: 0 0 30px rgba(3, 197, 197, 0.7)");
            twoboxSecond.setAttribute("style", "background:url(img/card_kr.jpg); background-size: cover;");
            isEnlarged = true;
        } else {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }, 2000);
    }
    LampSix.onclick = function(){
        if (!isEnlarged) {
            LampSix.setAttribute("style", "transform: translateZ(-200px) scale(1.5); border-radius: 15%; box-shadow: 0 0 30px rgba(3, 197, 197, 0.7)");
            twoboxSecond.setAttribute("style", "background:url(img/card_pt.jpg); background-size: cover;");
            isEnlarged = true;
        } else {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            fun();
            twoboxSecond.setAttribute("style", "background:none;");
            isEnlarged = false;
        }, 2000);
    }
</script>
  <!-- This job comes from a study project called Fijiv in Gittub as PengPeng's Learning Responsive Web Job -->
</html>
